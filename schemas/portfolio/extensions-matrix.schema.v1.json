{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "$id": "https://luhtech.dev/schemas/portfolio/extensions-matrix-v1.json",
  "title": "LuhTech Extensions Matrix v1",
  "description": "Portfolio-level tracking of which extensions each venture shares with Holdings. Generated by aggregator from venture extensions.json files.",
  "type": "object",
  "required": ["$schema", "lastUpdated", "ventures"],
  "additionalProperties": false,
  "properties": {
    "$schema": {
      "type": "string",
      "const": "https://luhtech.dev/schemas/portfolio/extensions-matrix-v1.json"
    },
    "lastUpdated": {
      "type": "string",
      "format": "date-time",
      "description": "Last aggregation timestamp"
    },
    "ventures": {
      "type": "object",
      "description": "Map of ventureId to list of shared extension names",
      "additionalProperties": {
        "type": "array",
        "items": {
          "type": "string"
        },
        "description": "List of extension names with share:true"
      }
    },
    "sharedExtensions": {
      "type": "object",
      "description": "Aggregated extension data from all ventures (share:true only)",
      "additionalProperties": {
        "type": "object",
        "properties": {
          "ventureId": {
            "type": "string"
          },
          "data": {
            "type": "object",
            "additionalProperties": true
          }
        }
      }
    },
    "stats": {
      "type": "object",
      "description": "Summary statistics",
      "properties": {
        "totalVentures": {
          "type": "integer",
          "minimum": 0
        },
        "venturesWithExtensions": {
          "type": "integer",
          "minimum": 0
        },
        "totalSharedExtensions": {
          "type": "integer",
          "minimum": 0
        },
        "extensionTypes": {
          "type": "array",
          "items": {
            "type": "string"
          },
          "description": "Unique extension names across all ventures"
        }
      }
    }
  }
}
