{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "$id": "https://luhtech.dev/schemas/venture-summary-v1.json",
  "title": "Venture Summary",
  "description": "Investor-ready venture summary for pitch decks and accelerator reporting. Integrates with slide-generator.",
  "type": "object",
  "required": ["$schema", "version", "venture", "pitch", "metrics"],
  "properties": {
    "$schema": {"type": "string", "const": "https://luhtech.dev/schemas/venture-summary-v1.json"},
    "version": {"type": "string", "pattern": "^\\d+\\.\\d+\\.\\d+$"},
    "lastUpdated": {"type": "string", "format": "date-time"},
    "venture": {"$ref": "#/definitions/ventureIdentity"},
    "pitch": {"$ref": "#/definitions/pitchDeck"},
    "metrics": {"$ref": "#/definitions/currentMetrics"},
    "team": {"$ref": "#/definitions/teamInfo"},
    "funding": {"$ref": "#/definitions/fundingInfo"},
    "milestones": {"$ref": "#/definitions/milestonesSummary"},
    "assets": {"$ref": "#/definitions/brandAssets"}
  },
  "definitions": {
    "ventureIdentity": {
      "type": "object",
      "required": ["id", "name", "tagline", "stage"],
      "properties": {
        "id": {"type": "string", "pattern": "^[a-z][a-z0-9-]*$"},
        "name": {"type": "string", "maxLength": 100},
        "tagline": {"type": "string", "maxLength": 100},
        "stage": {"type": "string", "enum": ["concept", "poc", "pre-seed", "seed", "series-a", "growth"]},
        "founded": {"type": "string", "format": "date"},
        "domain": {"type": "string", "format": "hostname"},
        "industry": {"type": "array", "items": {"type": "string"}},
        "location": {"type": "string"}
      }
    },
    "pitchDeck": {
      "type": "object",
      "required": ["problem", "solution", "market", "businessModel", "differentiator"],
      "properties": {
        "problem": {"$ref": "#/definitions/slideContent"},
        "solution": {"$ref": "#/definitions/slideContent"},
        "market": {"$ref": "#/definitions/marketSlide"},
        "businessModel": {"$ref": "#/definitions/businessModelSlide"},
        "differentiator": {"$ref": "#/definitions/slideContent"},
        "traction": {"$ref": "#/definitions/tractionSlide"},
        "ask": {"$ref": "#/definitions/askSlide"},
        "timeline": {"$ref": "#/definitions/timelineSlide"}
      }
    },
    "slideContent": {
      "type": "object",
      "required": ["headline"],
      "properties": {
        "headline": {"type": "string", "maxLength": 100},
        "subheadline": {"type": "string", "maxLength": 200},
        "bullets": {"type": "array", "items": {"type": "string"}, "maxItems": 5},
        "narrative": {"type": "string", "maxLength": 500}
      }
    },
    "marketSlide": {
      "type": "object",
      "required": ["tam", "sam", "som"],
      "properties": {
        "headline": {"type": "string"},
        "tam": {"type": "object", "properties": {"value": {"type": "string"}, "description": {"type": "string"}}},
        "sam": {"type": "object", "properties": {"value": {"type": "string"}, "description": {"type": "string"}}},
        "som": {"type": "object", "properties": {"value": {"type": "string"}, "description": {"type": "string"}}},
        "growthRate": {"type": "string"},
        "trends": {"type": "array", "items": {"type": "string"}}
      }
    },
    "businessModelSlide": {
      "type": "object",
      "required": ["revenueModel"],
      "properties": {
        "headline": {"type": "string"},
        "revenueModel": {"type": "string"},
        "pricing": {"type": "array", "items": {"type": "object", "properties": {"tier": {"type": "string"}, "price": {"type": "string"}, "features": {"type": "array", "items": {"type": "string"}}}}},
        "unitEconomics": {"type": "object", "properties": {"cac": {"type": "string"}, "ltv": {"type": "string"}, "paybackPeriod": {"type": "string"}, "grossMargin": {"type": "string"}}}
      }
    },
    "tractionSlide": {
      "type": "object",
      "properties": {
        "headline": {"type": "string"},
        "metrics": {"type": "array", "items": {"type": "object", "properties": {"label": {"type": "string"}, "value": {"type": "string"}, "trend": {"type": "string", "enum": ["up", "down", "flat"]}}}},
        "customers": {"type": "array", "items": {"type": "string"}},
        "testimonials": {"type": "array", "items": {"type": "object", "properties": {"quote": {"type": "string"}, "author": {"type": "string"}, "company": {"type": "string"}}}}
      }
    },
    "askSlide": {
      "type": "object",
      "required": ["amount"],
      "properties": {
        "headline": {"type": "string"},
        "amount": {"type": "string"},
        "useOfFunds": {"type": "array", "items": {"type": "object", "properties": {"category": {"type": "string"}, "percentage": {"type": "integer"}, "description": {"type": "string"}}}},
        "milestones": {"type": "array", "items": {"type": "string"}}
      }
    },
    "timelineSlide": {
      "type": "object",
      "properties": {
        "headline": {"type": "string"},
        "milestones": {"type": "array", "items": {"type": "object", "properties": {"date": {"type": "string", "format": "date"}, "label": {"type": "string"}, "status": {"type": "string", "enum": ["complete", "current", "planned"]}}}}
      }
    },
    "currentMetrics": {
      "type": "object",
      "properties": {
        "mrr": {"type": "string"},
        "arr": {"type": "string"},
        "customers": {"type": "integer"},
        "users": {"type": "integer"},
        "growth": {"type": "string"},
        "nps": {"type": "integer"},
        "churn": {"type": "string"},
        "custom": {"type": "object", "additionalProperties": true}
      }
    },
    "teamInfo": {
      "type": "object",
      "properties": {
        "size": {"type": "integer"},
        "founders": {"type": "array", "items": {"$ref": "#/definitions/teamMember"}},
        "advisors": {"type": "array", "items": {"$ref": "#/definitions/teamMember"}},
        "keyHires": {"type": "array", "items": {"type": "string"}}
      }
    },
    "teamMember": {
      "type": "object",
      "required": ["name", "role"],
      "properties": {
        "name": {"type": "string"},
        "role": {"type": "string"},
        "bio": {"type": "string"},
        "linkedin": {"type": "string", "format": "uri"},
        "image": {"type": "string", "format": "uri"}
      }
    },
    "fundingInfo": {
      "type": "object",
      "properties": {
        "totalRaised": {"type": "string"},
        "currentRound": {"type": "object", "properties": {"type": {"type": "string"}, "target": {"type": "string"}, "raised": {"type": "string"}, "status": {"type": "string", "enum": ["planning", "raising", "closing", "closed"]}}},
        "investors": {"type": "array", "items": {"type": "string"}},
        "runway": {"type": "integer"}
      }
    },
    "milestonesSummary": {
      "type": "object",
      "properties": {
        "achieved": {"type": "array", "items": {"type": "object", "properties": {"date": {"type": "string", "format": "date"}, "milestone": {"type": "string"}}}},
        "upcoming": {"type": "array", "items": {"type": "object", "properties": {"date": {"type": "string", "format": "date"}, "milestone": {"type": "string"}}}}
      }
    },
    "brandAssets": {
      "type": "object",
      "properties": {
        "logo": {"type": "object", "properties": {"primary": {"type": "string"}, "light": {"type": "string"}, "dark": {"type": "string"}, "icon": {"type": "string"}}},
        "colors": {"type": "object", "properties": {"primary": {"type": "string", "pattern": "^#[0-9A-Fa-f]{6}$"}, "secondary": {"type": "string", "pattern": "^#[0-9A-Fa-f]{6}$"}, "accent": {"type": "string", "pattern": "^#[0-9A-Fa-f]{6}$"}}},
        "fonts": {"type": "object", "properties": {"heading": {"type": "string"}, "body": {"type": "string"}}},
        "backgrounds": {"type": "array", "items": {"type": "string"}}
      }
    }
  }
}
