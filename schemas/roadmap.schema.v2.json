{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "$id": "https://luhtech.dev/schemas/roadmap-v2.json",
  "title": "LuhTech Venture Roadmap v2",
  "description": "JSON-first roadmap schema for LuhTech portfolio ventures. Supports full venture metadata, quarterly planning, financials, team planning, and advanced features tracking.",
  "type": "object",
  "required": ["$schema", "schemaVersion", "meta", "venture", "pitch", "quarters"],
  "properties": {
    "$schema": {
      "type": "string",
      "description": "Schema identifier",
      "enum": ["https://luhtech.dev/schemas/roadmap-v2.json", "luhtechnology-roadmap-v2"]
    },
    "schemaVersion": {
      "type": "string",
      "pattern": "^\\d+\\.\\d+\\.\\d+$",
      "description": "SemVer version of the schema being used"
    },
    "meta": {
      "$ref": "#/definitions/meta"
    },
    "venture": {
      "$ref": "#/definitions/ventureDetails"
    },
    "pitch": {
      "$ref": "#/definitions/pitch"
    },
    "quarters": {
      "type": "object",
      "description": "Quarterly roadmap data keyed by quarter ID (e.g., 'q4_2025')",
      "patternProperties": {
        "^q[1-4]_20[0-9]{2}$": {
          "$ref": "#/definitions/quarter"
        }
      },
      "additionalProperties": false
    },
    "financials": {
      "$ref": "#/definitions/financials"
    },
    "team": {
      "$ref": "#/definitions/team"
    },
    "erikAllocation": {
      "$ref": "#/definitions/erikAllocation"
    },
    "keyMilestones": {
      "type": "array",
      "description": "Critical path milestones across all quarters",
      "items": {
        "$ref": "#/definitions/keyMilestone"
      }
    },
    "advancedFeatures": {
      "$ref": "#/definitions/advancedFeatures"
    },
    "competitive": {
      "$ref": "#/definitions/competitive"
    }
  },
  "definitions": {
    "meta": {
      "type": "object",
      "description": "Document metadata",
      "required": ["ventureId", "ventureName", "status"],
      "properties": {
        "ventureId": {
          "type": "string",
          "pattern": "^[a-z][a-z0-9-]*$",
          "description": "Unique venture identifier (lowercase, hyphenated)"
        },
        "ventureName": {
          "type": "string",
          "maxLength": 100,
          "description": "Display name of the venture"
        },
        "lastUpdated": {
          "type": "string",
          "format": "date-time",
          "description": "ISO-8601 timestamp of last update"
        },
        "author": {
          "type": "string",
          "description": "Person who last updated this roadmap"
        },
        "status": {
          "type": "string",
          "enum": ["active", "paused", "archived", "draft"],
          "description": "Document status"
        },
        "sourceDoc": {
          "type": "string",
          "description": "Reference to source document or Google Doc"
        }
      }
    },
    "ventureDetails": {
      "type": "object",
      "description": "Venture classification and status",
      "required": ["type", "architecture"],
      "properties": {
        "type": {
          "type": "string",
          "enum": ["Platform", "Hardware", "SaaS", "API", "Marketplace"],
          "description": "Venture category"
        },
        "architecture": {
          "type": "string",
          "enum": ["Cloud-First", "Edge-First", "Hybrid", "API-Only", "Platform"],
          "description": "Primary architecture pattern"
        },
        "forkParent": {
          "type": ["string", "null"],
          "description": "Parent venture ID if this is a fork (null if not forked)"
        },
        "codeReuse": {
          "type": "integer",
          "minimum": 0,
          "maximum": 100,
          "description": "Percentage of code inherited from parent"
        },
        "platformProgress": {
          "type": "string",
          "description": "Current platform completion percentage (e.g., '96%')"
        },
        "currentPhase": {
          "type": "string",
          "description": "Current development phase (e.g., '5a', '6')"
        },
        "domain": {
          "type": "string",
          "format": "hostname",
          "description": "Primary domain"
        },
        "repository": {
          "type": "string",
          "format": "uri",
          "description": "GitHub repository URL"
        }
      }
    },
    "pitch": {
      "type": "object",
      "description": "Investor pitch content",
      "required": ["oneLiner", "problem", "solution", "market", "differentiator", "businessModel"],
      "properties": {
        "oneLiner": {
          "type": "string",
          "maxLength": 150,
          "description": "Elevator pitch (60-100 chars ideal)"
        },
        "problem": {
          "type": "string",
          "description": "Pain point you solve"
        },
        "solution": {
          "type": "string",
          "description": "Your approach"
        },
        "market": {
          "type": "string",
          "description": "TAM + growth rate"
        },
        "differentiator": {
          "type": "string",
          "description": "Why you win"
        },
        "businessModel": {
          "type": "string",
          "description": "How you make money"
        },
        "traction": {
          "type": "string",
          "description": "Current traction metrics"
        },
        "ask": {
          "type": "string",
          "description": "Funding ask"
        }
      }
    },
    "quarter": {
      "type": "object",
      "description": "Single quarter roadmap data",
      "required": ["focus"],
      "properties": {
        "focus": {
          "type": "string",
          "description": "Quarter focus area (short title)"
        },
        "theme": {
          "type": "string",
          "description": "Quarter theme (longer description)"
        },
        "phases": {
          "type": "array",
          "description": "Development phases active this quarter",
          "items": {
            "type": "string"
          }
        },
        "milestones": {
          "type": "array",
          "description": "Key milestones for this quarter",
          "items": {
            "$ref": "#/definitions/quarterMilestone"
          }
        },
        "deliverables": {
          "type": "array",
          "description": "Planned deliverables",
          "items": {
            "$ref": "#/definitions/deliverable"
          }
        },
        "metrics": {
          "type": "object",
          "description": "Target metrics for this quarter",
          "additionalProperties": true
        },
        "resources": {
          "type": "object",
          "description": "Resource allocation",
          "properties": {
            "team": {
              "type": ["integer", "string"],
              "description": "Team size or range"
            },
            "budget": {
              "type": "string",
              "description": "Budget allocation"
            }
          },
          "additionalProperties": true
        },
        "risks": {
          "type": "array",
          "description": "Identified risks",
          "items": {
            "$ref": "#/definitions/risk"
          }
        },
        "dependencies": {
          "type": "array",
          "description": "Dependencies on other ventures or milestones",
          "items": {
            "$ref": "#/definitions/dependency"
          }
        },
        "erikHours": {
          "type": "integer",
          "minimum": 0,
          "maximum": 80,
          "description": "Erik's weekly hours allocated this quarter"
        }
      }
    },
    "quarterMilestone": {
      "type": "object",
      "description": "Milestone within a quarter",
      "required": ["event"],
      "properties": {
        "date": {
          "type": "string",
          "format": "date",
          "description": "Target date (YYYY-MM-DD)"
        },
        "event": {
          "type": "string",
          "description": "Milestone name"
        },
        "gate": {
          "type": "boolean",
          "default": false,
          "description": "Is this a gate milestone?"
        },
        "critical": {
          "type": "boolean",
          "default": false,
          "description": "Is this critical path?"
        },
        "type": {
          "type": "string",
          "enum": ["technical", "business", "funding", "team", "launch", "ar-milestone"],
          "description": "Milestone category"
        }
      }
    },
    "deliverable": {
      "type": "object",
      "description": "Planned deliverable",
      "required": ["name"],
      "properties": {
        "name": {
          "type": "string",
          "description": "Deliverable name"
        },
        "owner": {
          "type": "string",
          "default": "team",
          "description": "Person or team responsible"
        },
        "status": {
          "type": "string",
          "enum": ["planned", "in-progress", "complete", "blocked", "deferred"],
          "description": "Current status"
        },
        "priority": {
          "type": "integer",
          "minimum": 1,
          "maximum": 5,
          "description": "Priority (1=highest)"
        }
      }
    },
    "risk": {
      "type": "object",
      "description": "Identified risk",
      "required": ["risk"],
      "properties": {
        "risk": {
          "type": "string",
          "description": "Risk description"
        },
        "probability": {
          "type": "string",
          "enum": ["low", "medium", "medium-high", "high", "critical"],
          "description": "Likelihood of occurrence"
        },
        "impact": {
          "type": "string",
          "enum": ["low", "medium", "medium-high", "high", "critical"],
          "description": "Impact if it occurs"
        },
        "mitigation": {
          "type": "string",
          "description": "Mitigation strategy"
        }
      }
    },
    "dependency": {
      "type": "object",
      "description": "Dependency on another venture or milestone",
      "required": ["type"],
      "properties": {
        "type": {
          "type": "string",
          "enum": ["upstream", "downstream", "cross-venture", "internal", "external"],
          "description": "Dependency direction"
        },
        "ventureId": {
          "type": "string",
          "description": "Related venture ID"
        },
        "milestone": {
          "type": "string",
          "description": "Related milestone name"
        },
        "blocking": {
          "type": "boolean",
          "default": false,
          "description": "Is this a blocking dependency?"
        },
        "targetDate": {
          "type": "string",
          "format": "date",
          "description": "Expected completion date"
        }
      }
    },
    "financials": {
      "type": "object",
      "description": "Financial planning",
      "properties": {
        "preSeed": {
          "type": ["string", "null"],
          "description": "Pre-seed funding amount"
        },
        "preSeedTiming": {
          "type": ["string", "null"],
          "description": "Pre-seed timing (e.g., 'Q2 2026')"
        },
        "preSeedUse": {
          "type": "object",
          "description": "Pre-seed allocation breakdown",
          "additionalProperties": {
            "type": "string"
          }
        },
        "seed": {
          "type": ["string", "null"],
          "description": "Seed funding amount"
        },
        "seedTiming": {
          "type": ["string", "null"],
          "description": "Seed timing"
        },
        "seedUse": {
          "type": "object",
          "description": "Seed allocation breakdown",
          "additionalProperties": {
            "type": "string"
          }
        },
        "seriesA": {
          "type": ["string", "null"],
          "description": "Series A target"
        },
        "seriesATiming": {
          "type": ["string", "null"],
          "description": "Series A timing"
        },
        "year1Revenue": {
          "type": ["string", "null"],
          "description": "Year 1 revenue projection"
        },
        "year2Revenue": {
          "type": ["string", "null"],
          "description": "Year 2 revenue projection"
        },
        "burnRate": {
          "type": ["string", "null"],
          "description": "Monthly burn rate"
        },
        "runway": {
          "type": ["integer", "null"],
          "minimum": 0,
          "description": "Runway in months"
        },
        "projections": {
          "type": "object",
          "description": "Annual projections by year",
          "patternProperties": {
            "^20[0-9]{2}$": {
              "type": "object",
              "properties": {
                "mrr": {
                  "type": "string"
                },
                "arr": {
                  "type": "string"
                },
                "customers": {
                  "type": ["string", "integer"]
                }
              }
            }
          }
        }
      }
    },
    "team": {
      "type": "object",
      "description": "Team planning",
      "properties": {
        "current": {
          "type": "integer",
          "minimum": 0,
          "default": 1,
          "description": "Current team size"
        },
        "q2_2026_target": {
          "type": ["integer", "null"],
          "description": "Q2 2026 headcount target"
        },
        "q4_2026_target": {
          "type": ["integer", "null"],
          "description": "Q4 2026 headcount target"
        },
        "q1_2027_target": {
          "type": ["integer", "null"],
          "description": "Q1 2027 headcount target"
        },
        "keyHires": {
          "type": "array",
          "description": "Planned key hires",
          "items": {
            "$ref": "#/definitions/keyHire"
          }
        }
      }
    },
    "keyHire": {
      "type": "object",
      "description": "Planned hire",
      "required": ["role", "quarter"],
      "properties": {
        "role": {
          "type": "string",
          "description": "Role title"
        },
        "quarter": {
          "type": "string",
          "pattern": "^q[1-4]_20[0-9]{2}$",
          "description": "Target quarter"
        },
        "critical": {
          "type": "boolean",
          "default": false,
          "description": "Is this a critical hire?"
        }
      }
    },
    "erikAllocation": {
      "type": "object",
      "description": "Erik's time allocation plan",
      "properties": {
        "currentHoursPerWeek": {
          "type": "integer",
          "minimum": 0,
          "maximum": 80,
          "description": "Current weekly hours"
        },
        "targetHoursPerWeek": {
          "type": "integer",
          "minimum": 0,
          "maximum": 80,
          "description": "Target steady-state hours"
        },
        "transitionQuarter": {
          "type": ["string", "null"],
          "pattern": "^q[1-4]_20[0-9]{2}$",
          "description": "Quarter when transition completes"
        },
        "quarterlyBreakdown": {
          "type": "object",
          "description": "Hours by quarter",
          "patternProperties": {
            "^q[1-4]_20[0-9]{2}$": {
              "type": "integer",
              "minimum": 0,
              "maximum": 80
            }
          }
        }
      }
    },
    "keyMilestone": {
      "type": "object",
      "description": "Critical path milestone (cross-quarter)",
      "required": ["id", "date", "event"],
      "properties": {
        "id": {
          "type": "string",
          "pattern": "^[a-z][a-z0-9-]*$",
          "description": "Unique milestone ID"
        },
        "date": {
          "type": "string",
          "format": "date",
          "description": "Target date"
        },
        "event": {
          "type": "string",
          "description": "Milestone name"
        },
        "gate": {
          "type": "boolean",
          "default": false,
          "description": "Is this a gate?"
        },
        "dependsOn": {
          "type": "array",
          "description": "IDs of milestones this depends on",
          "items": {
            "type": "string"
          }
        }
      }
    },
    "advancedFeatures": {
      "type": "object",
      "description": "Advanced feature roadmaps",
      "properties": {
        "ar": {
          "type": "object",
          "description": "AR feature roadmap",
          "properties": {
            "status": {
              "type": "string",
              "enum": ["planned", "poc", "mvp", "commercial"]
            },
            "phase": {
              "type": "integer"
            },
            "timeline": {
              "type": "object",
              "additionalProperties": {
                "type": "string"
              }
            },
            "premiumRevenue": {
              "type": "string"
            }
          }
        },
        "robotics": {
          "type": "object",
          "description": "Robotics feature roadmap",
          "properties": {
            "status": {
              "type": "string"
            },
            "phase": {
              "type": "integer"
            },
            "timeline": {
              "type": "object",
              "additionalProperties": {
                "type": "string"
              }
            }
          }
        }
      },
      "additionalProperties": {
        "type": "object"
      }
    },
    "competitive": {
      "type": "object",
      "description": "Competitive positioning",
      "properties": {
        "directCompetitors": {
          "type": "array",
          "description": "Direct competitors",
          "items": {
            "type": "string"
          }
        },
        "moats": {
          "type": "array",
          "description": "Competitive moats",
          "items": {
            "type": "string"
          }
        }
      }
    }
  }
}
